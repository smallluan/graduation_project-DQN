#### 项目介绍
本项目是 我本人**独立开发**的，基于 **DQN** 强化学习的，实现了在 **自定义规则下** 可以完成卡牌游戏的 ai 模型。

该项目作为我的毕业设计的一部分（软件部分），将持续更新到毕业。

该项目完全开源，支持商用。

如果方便，也请支持一下我的其他开源项目 [开源的微信小程序组件库](https://github.com/smallluan/UrPage-Components)
下面是一些常见问题。

#### 一、 为什么自定义规则
在项目初期，我想完全将 `斗地主` 的规则照搬过来，但是很快发现了局限之处：
1. 我需要在及其有限的资源下完成对模型的训练
2. 模型的最终运行环境资源同样受限(esp 32)
3. 斗地主规则下的状态过于复杂，难以实现

下面是我在项目初期对斗地主的状态复杂度的分析：

##### **1. 初始牌型分配的组合数**
斗地主共有54张牌（含大小王），初始分配为：
- 地主：20张
- 农民A：17张
- 农民B：17张

组合数为：
\[
\text{组合数} = \frac{54!}{20! \cdot 17! \cdot 17!} \approx 1.0 \times 10^{27}
\]
这仅是初始牌型的分配方式，尚未考虑出牌顺序和策略选择。


##### **2. 出牌过程中的状态变化**
斗地主的动态状态需考虑以下因素：
- **已出牌的牌型**（单张、对子、顺子、炸弹等）。
- **当前出牌玩家**及**剩余手牌**。
- **玩家是否选择“要牌”或“放弃”**。
- **炸弹压制规则**（如王炸可压制任何牌型）。

每一步出牌都可能产生指数级的分支。假设每轮平均有10种出牌选择，总出牌轮次约为30轮，则动态状态数约为：
\[
10^{30}
\]
但实际复杂度远高于此，因为牌型组合和策略选择的可能性远超线性假设。


##### **3. 综合复杂度估算**
综合初始分配和动态状态，斗地主的总状态复杂度约为：
\[
1.0 \times 10^{27} \times 10^{30} = 1.0 \times 10^{57}
\]

在计算过后，我决定自定义规则来匹配资源受限的训练和运行环境。

在 `v1` 版本的规则下，模型需要处理的事件复杂度为 **\(2.25\times 10^{12}\) 种**，在兼顾可玩性的同时明显降低了事件复杂度。
